"use strict";(self.webpackChunkfrontend_notes=self.webpackChunkfrontend_notes||[]).push([[8761],{1329:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>i});const s=JSON.parse('{"id":"Javascript/map_set","title":"Map/Set \u548c WeakMap/WeakSet \u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc\uff1f","description":"Map\u548cWeakMap","source":"@site/docs/Javascript/14.map_set.md","sourceDirName":"Javascript","slug":"/Javascript/map-set-weakMap-WeakSet","permalink":"/frontend-notes/docs/Javascript/map-set-weakMap-WeakSet","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Javascript/14.map_set.md","tags":[{"inline":true,"label":"2024iT\u9435\u4eba\u8cfd","permalink":"/frontend-notes/docs/tags/2024-i-t\u9435\u4eba\u8cfd"},{"inline":true,"label":"JavaScript","permalink":"/frontend-notes/docs/tags/java-script"},{"inline":true,"label":"Map","permalink":"/frontend-notes/docs/tags/map"},{"inline":true,"label":"WeakMap","permalink":"/frontend-notes/docs/tags/weak-map"},{"inline":true,"label":"Set","permalink":"/frontend-notes/docs/tags/set"},{"inline":true,"label":"WeakSet","permalink":"/frontend-notes/docs/tags/weak-set"}],"version":"current","sidebarPosition":14,"frontMatter":{"slug":"map-set-weakMap-WeakSet","title":"Map/Set \u548c WeakMap/WeakSet \u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc\uff1f","authors":["ashley"],"tags":["2024iT\u9435\u4eba\u8cfd","JavaScript","Map","WeakMap","Set","WeakSet"],"keywords":["2024iT\u9435\u4eba\u8cfd","JavaScript","Map","WeakMap","Set","WeakSet"]},"sidebar":"notesSidebar","previous":{"title":"Prototype \u539f\u578b\u7e7c\u627f\u5982\u4f55\u5728 JavaScript \u904b\u4f5c\u4e2d\uff1f","permalink":"/frontend-notes/docs/Javascript/prototype"},"next":{"title":"synchronous \u540c\u6b65\u8207 asynchronous \u975e\u540c\u6b65","permalink":"/frontend-notes/docs/Javascript/synchronous-asynchronous"}}');var t=n(6070),l=n(5248);const c={slug:"map-set-weakMap-WeakSet",title:"Map/Set \u548c WeakMap/WeakSet \u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc\uff1f",authors:["ashley"],tags:["2024iT\u9435\u4eba\u8cfd","JavaScript","Map","WeakMap","Set","WeakSet"],keywords:["2024iT\u9435\u4eba\u8cfd","JavaScript","Map","WeakMap","Set","WeakSet"]},d="Map/Set \u548c WeakMap/WeakSet \u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc\uff1f",r={},i=[{value:"<code>Map</code>\u548c<code>WeakMap</code>",id:"map\u548cweakmap",level:2},{value:"<code>Map</code>",id:"map",level:3},{value:"<code>WeakMap</code>",id:"weakmap",level:3},{value:"<code>Set</code>\u548c<code>WeakSet</code>",id:"set\u548cweakset",level:2},{value:"<code>Set</code>",id:"set",level:3},{value:"<code>WeakSet</code>",id:"weakset",level:4},{value:"\u7e3d\u7d50",id:"\u7e3d\u7d50",level:3},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",level:3}];function o(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"mapset-\u548c-weakmapweakset-\u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc",children:"Map/Set \u548c WeakMap/WeakSet \u4e4b\u9593\u7684\u5dee\u5225\u662f\u4ec0\u9ebc\uff1f"})}),"\n",(0,t.jsxs)(a.h2,{id:"map\u548cweakmap",children:[(0,t.jsx)(a.code,{children:"Map"}),"\u548c",(0,t.jsx)(a.code,{children:"WeakMap"})]}),"\n",(0,t.jsx)(a.h3,{id:"map",children:(0,t.jsx)(a.code,{children:"Map"})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\u7d50\u69cb\uff1a",(0,t.jsx)(a.code,{children:"Map"})," \u662f\u4e00\u500b\u4ee5 key-value \u7684\u5f62\u5f0f\u5132\u5b58\u8cc7\u6599\uff0c\u985e\u4f3c\u7269\u4ef6\u7684\u8cc7\u6599\u7d50\u69cb\uff0ckey \u53ef\u4ee5\u662f\u4efb\u4f55\u578b\u5225\uff0c\u800c value \u4e5f\u53ef\u4ee5\u662f\u4efb\u4f55\u578b\u5225\u3002"]}),"\n",(0,t.jsxs)(a.li,{children:["\u4f7f\u7528",(0,t.jsx)(a.code,{children:"new Map()"})," \u4f86\u751f\u6210\u5be6\u4f8b\u3002"]}),"\n",(0,t.jsx)(a.li,{children:"\u8a18\u61b6\u9ad4\u7ba1\u7406\uff1a keys values \u4e0d\u6703\u53d7\u5230 Javascript \u5783\u573e\u56de\u6536\u6a5f\u5236\u7684\u5f71\u97ff\u3002"}),"\n",(0,t.jsx)(a.li,{children:"\u4f7f\u7528\u5834\u666f: \u7576\u9700\u8981\u5132\u5b58 key-value \u7684\u8cc7\u6599\u6642\uff0c\u4e26\u4e14\u5e0c\u671b key \u4fdd\u7559\u5728\u8a18\u61b6\u9ad4\u4e2d\u76f4\u5230\u624b\u52d5\u522a\u9664\u6642\u3002"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:'const map = new Map();\nmap.set("name", "Ashley");\nconsole.log(map.get("name")); // \'Ashley\'\nmap.delete("name");\nconsole.log(map.size); // 0\n'})}),"\n",(0,t.jsx)(a.h3,{id:"weakmap",children:(0,t.jsx)(a.code,{children:"WeakMap"})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\u7d50\u69cb\uff1a",(0,t.jsx)(a.code,{children:"WeakMap"})," \u7684 key \u53ea\u80fd\u662f\u7269\u4ef6\u548c Symbol\uff0cvalue \u53ef\u4ee5\u662f\u4efb\u4f55\u578b\u5225\u3002"]}),"\n",(0,t.jsxs)(a.li,{children:["\u8a18\u61b6\u9ad4\u7ba1\u7406\uff1a",(0,t.jsx)(a.code,{children:"WeakMap"})," \u7684 key \u662f\u5f31\u5f15\u7528(weak reference)\uff0c\u7576 key \u4e0d\u518d\u88ab\u5f15\u7528\u6642\uff0c",(0,t.jsx)(a.code,{children:"WeakMap"})," \u6703\u88ab\u5783\u573e\u56de\u6536\u6a5f\u5236\u81ea\u52d5\u56de\u6536\u9019\u500b key-value \u5c0d\u8c61\u3002"]}),"\n",(0,t.jsxs)(a.li,{children:["\u4f7f\u7528",(0,t.jsx)(a.code,{children:"new WeakMap()"})," \u4f86\u751f\u6210\u5be6\u4f8b\u3002"]}),"\n",(0,t.jsx)(a.li,{children:"\u4f7f\u7528\u5834\u666f: caching data\uff0c\u9069\u5408\u7528\u65bc\u9700\u8981\u66ab\u5b58\u7269\u4ef6\uff0c\u7576 key \u4e0d\u518d\u88ab\u5f15\u7528\u6642\uff0c\u81ea\u52d5\u56de\u6536\u8cc7\u6599\u3002"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"const weakMap = new WeakMap();\nlet obj = {};\nweakMap.set(obj, \"value\");\nconsole.log(weakMap.get(obj)); // 'value'\nobj = null; // \u89e3\u9664\u5c0d obj \u7684\u5f15\u7528\uff0c\u8a72 key-value \u5c0d\u8c61\u6703\u88ab\u81ea\u52d5\u56de\u6536\n"})}),"\n",(0,t.jsxs)(a.h2,{id:"set\u548cweakset",children:[(0,t.jsx)(a.code,{children:"Set"}),"\u548c",(0,t.jsx)(a.code,{children:"WeakSet"})]}),"\n",(0,t.jsx)(a.h3,{id:"set",children:(0,t.jsx)(a.code,{children:"Set"})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\u7d50\u69cb\uff1a",(0,t.jsx)(a.code,{children:"Set"})," \u662f\u4e00\u500b\u5132\u5b58\u552f\u4e00\u503c\u7684\u96c6\u5408\uff0c\u985e\u4f3c\u9663\u5217\uff0c\u4f46\u662f\u4e0d\u5141\u8a31\u91cd\u8907\u7684\u503c\u3002"]}),"\n",(0,t.jsx)(a.li,{children:"\u8a18\u61b6\u9ad4\u7ba1\u7406\uff1a\u503c\u4e0d\u6703\u53d7\u5230 Javascript \u5783\u573e\u56de\u6536\u6a5f\u5236\u7684\u5f71\u97ff\u3002"}),"\n",(0,t.jsx)(a.li,{children:"\u4f7f\u7528\u5834\u666f: \u7576\u9700\u8981\u7ba1\u7406\u552f\u4e00\u503c\u7684\u96c6\u5408\uff0c\u7279\u5225\u662f\u9700\u8981\u5254\u9664\u91cd\u8907\u503c\u6642\u3002"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:"const set = new Set([1, 1, 1, 2, 2, 3, 4, 5]);\nconsole.log(set); // Set { 1, 2, 3, 4, 5 }\nset.add(6);\nconsole.log(set.has(6)); // true\nset.delete(6);\nconsole.log(set.has(6)); // false\nconsole.log(set.size); // 5\n"})}),"\n",(0,t.jsx)(a.h4,{id:"weakset",children:(0,t.jsx)(a.code,{children:"WeakSet"})}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\u7d50\u69cb\uff1a",(0,t.jsx)(a.code,{children:"WeakSet"})," \u7684\u5143\u7d20\u53ea\u80fd\u662f\u7269\u4ef6\uff0c\u4e26\u4e14\u662f\u5f31\u5f15\u7528(weak reference)\u3002"]}),"\n",(0,t.jsx)(a.li,{children:"\u8a18\u61b6\u9ad4\u7ba1\u7406\uff1a\u7576\u5b58\u5165\u7684\u7269\u4ef6\u4e0d\u518d\u88ab\u5f15\u7528\u6642\uff0c\u6703\u88ab\u5783\u573e\u56de\u6536\u6a5f\u5236\u81ea\u52d5\u6e05\u7406\u3002"}),"\n",(0,t.jsxs)(a.li,{children:["\u4f7f\u7528",(0,t.jsx)(a.code,{children:"new WeakSet()"})," \u4f86\u751f\u6210\u5be6\u4f8b\u3002"]}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-js",children:'const weakSet = new WeakSet();\nlet obj = { key: "value" };\nweakSet.add(obj);\nconsole.log(weakSet.has(obj)); // true\nobj = null; // \u89e3\u9664\u5c0d obj \u7684\u5f15\u7528\uff0c\u8a72\u7269\u4ef6\u6703\u88ab\u5783\u573e\u56de\u6536\n'})}),"\n",(0,t.jsx)(a.h3,{id:"\u7e3d\u7d50",children:"\u7e3d\u7d50"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"\u5dee\u7570"}),(0,t.jsxs)(a.th,{children:[(0,t.jsx)(a.code,{children:"Map"}),"/",(0,t.jsx)(a.code,{children:"Set"})]}),(0,t.jsxs)(a.th,{children:[(0,t.jsx)(a.code,{children:"WeakMap"}),"/",(0,t.jsx)(a.code,{children:"WeakSet"})]})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"key \u7684\u578b\u5225"}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"Map"}),": \u4efb\u610f\u578b\u5225 ",(0,t.jsx)(a.code,{children:"Set"}),": \u4efb\u610f\u578b\u5225"]}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"WeakMap"}),": \u7269\u4ef6\u6216 Symbol \u4f5c\u70ba key ",(0,t.jsx)(a.code,{children:"WeakSet"}),": \u7269\u4ef6\u4f5c\u70ba\u5143\u7d20"]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"\u8a18\u61b6\u9ad4\u7ba1\u7406\u6a5f\u5236"}),(0,t.jsx)(a.td,{children:"\u5f37\u5f15\u7528\uff0c\u624b\u52d5\u7ba1\u7406\u8a18\u61b6\u9ad4"}),(0,t.jsx)(a.td,{children:"\u5f31\u5f15\u7528\uff0c\u4e0d\u518d\u88ab\u5f15\u7528\u6642\u81ea\u52d5\u56de\u6536"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:"\u662f\u5426\u53ef\u5217\u8209"}),(0,t.jsx)(a.td,{children:"\u53ef\u4ee5\u5217\u8209\uff0ckeys(), values() \u7b49\u65b9\u6cd5"}),(0,t.jsx)(a.td,{children:"\u4e0d\u53ef\u4ee5\u5217\u8209\uff0c\u7121\u6cd5\u8fed\u4ee3\u6216\u7372\u53d6\u6240\u6709\u9375\u6216\u503c"})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"size"})," \u5c6c\u6027"]}),(0,t.jsx)(a.td,{children:"\u6709"}),(0,t.jsx)(a.td,{children:"\u6c92\u6709\uff0c\u56e0\u70ba\u6703\u53d7\u5230\u5783\u573e\u56de\u6536\u6a5f\u5236\u5f71\u97ff"})]})]})]}),"\n",(0,t.jsx)(a.h3,{id:"\u53c3\u8003\u8cc7\u6599",children:"\u53c3\u8003\u8cc7\u6599"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Map",children:"Map"}),"\n",(0,t.jsx)(a.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",children:"WeakMap"}),"\n",(0,t.jsx)(a.a,{href:"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Set",children:"Set"}),"\n",(0,t.jsx)(a.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",children:"WeakSet"})]})]})}function h(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},5248:(e,a,n)=>{n.d(a,{R:()=>c,x:()=>d});var s=n(758);const t={},l=s.createContext(t);function c(e){const a=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(l.Provider,{value:a},e.children)}}}]);