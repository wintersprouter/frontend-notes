"use strict";(self.webpackChunkfrontend_notes=self.webpackChunkfrontend_notes||[]).push([[2322],{3033:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"Javascript/closure","title":"closure \u9589\u5305\u662f\u4ec0\u9ebc\uff1f\u5982\u4f55\u61c9\u7528\uff1f","description":"\u9589\u5305\u662f\u4ec0\u9ebc\uff1f","source":"@site/docs/Javascript/12.closure.md","sourceDirName":"Javascript","slug":"/Javascript/closure","permalink":"/frontend-notes/docs/Javascript/closure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Javascript/12.closure.md","tags":[{"inline":true,"label":"2024iT\u9435\u4eba\u8cfd","permalink":"/frontend-notes/docs/tags/2024-i-t\u9435\u4eba\u8cfd"},{"inline":true,"label":"JavaScript","permalink":"/frontend-notes/docs/tags/java-script"},{"inline":true,"label":"closure","permalink":"/frontend-notes/docs/tags/closure"}],"version":"current","sidebarPosition":12,"frontMatter":{"slug":"closure","title":"closure \u9589\u5305\u662f\u4ec0\u9ebc\uff1f\u5982\u4f55\u61c9\u7528\uff1f","authors":["ashley"],"tags":["2024iT\u9435\u4eba\u8cfd","JavaScript","closure"],"keywords":["2024iT\u9435\u4eba\u8cfd","JavaScript","closure"]},"sidebar":"notesSidebar","previous":{"title":".call \u548c .apply \u7684\u5dee\u7570","permalink":"/frontend-notes/docs/Javascript/call-apply"},"next":{"title":"Prototype \u539f\u578b\u7e7c\u627f\u5982\u4f55\u5728 JavaScript \u904b\u4f5c\u4e2d\uff1f","permalink":"/frontend-notes/docs/Javascript/prototype"}}');var r=t(6070),o=t(5248);const s={slug:"closure",title:"closure \u9589\u5305\u662f\u4ec0\u9ebc\uff1f\u5982\u4f55\u61c9\u7528\uff1f",authors:["ashley"],tags:["2024iT\u9435\u4eba\u8cfd","JavaScript","closure"],keywords:["2024iT\u9435\u4eba\u8cfd","JavaScript","closure"]},l="closure \u9589\u5305\u662f\u4ec0\u9ebc\uff1f\u5982\u4f55\u61c9\u7528\uff1f",i={},a=[{value:"\u9589\u5305\u662f\u4ec0\u9ebc\uff1f",id:"\u9589\u5305\u662f\u4ec0\u9ebc",level:2},{value:"\u9589\u5305\u7684\u61c9\u7528",id:"\u9589\u5305\u7684\u61c9\u7528",level:2},{value:"\u8cc7\u6599\u5c01\u88dd",id:"\u8cc7\u6599\u5c01\u88dd",level:3},{value:"\u6a21\u64ec\u79c1\u6709\u65b9\u6cd5\u548c\u8b8a\u6578",id:"\u6a21\u64ec\u79c1\u6709\u65b9\u6cd5\u548c\u8b8a\u6578",level:3},{value:"\u4e8b\u4ef6\u8655\u7406\uff08Event handlers\uff09\u548c\u56de\u547c\u51fd\u5f0f\uff08Callbacks\uff09",id:"\u4e8b\u4ef6\u8655\u7406event-handlers\u548c\u56de\u547c\u51fd\u5f0fcallbacks",level:3},{value:"\u5be6\u4f8b\u7df4\u7fd2",id:"\u5be6\u4f8b\u7df4\u7fd2",level:2},{value:"\u89e3\u984c",id:"\u89e3\u984c",level:2}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"closure-\u9589\u5305\u662f\u4ec0\u9ebc\u5982\u4f55\u61c9\u7528",children:"closure \u9589\u5305\u662f\u4ec0\u9ebc\uff1f\u5982\u4f55\u61c9\u7528\uff1f"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9589\u5305\u662f\u4ec0\u9ebc",children:"\u9589\u5305\u662f\u4ec0\u9ebc\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"closure \u51fd\u5f0f\u53ef\u4ee5\u5b58\u53d6\u5176\u5916\u90e8\u51fd\u5f0f\u7684\u8b8a\u6578\uff0c\u5373\u4f7f\u5916\u90e8\u51fd\u5f0f\u5df2\u7d93\u57f7\u884c\u5b8c\u7562\u4e26\u96e2\u958b\u5176\u4f5c\u7528\u57df\u3002\u53ef\u4ee5\u5b58\u53d6\u5230\u5916\u90e8\u8b8a\u6578\u7684\u539f\u56e0\u5728\u65bc: JavaScript \u4f7f\u7528\u4e86\u8a9e\u6cd5\u4f5c\u7528\u57df\uff08lexical scope\uff09\uff0c\u5728\u51fd\u5f0f\u5b9a\u7fa9\u6642\u6703\u8a18\u4f4f\u51fd\u5f0f\u88ab\u5b9a\u7fa9\u6642\u7684\u8b8a\u6578\u74b0\u5883\uff0c\u4e26\u4e14\u9019\u4e9b\u8b8a\u6578\u6703\u4e00\u76f4\u5b58\u5728\u65bc\u8a18\u61b6\u9ad4\u4e2d\uff0c\u53ea\u8981\u9589\u5305\u4e2d\u7684\u5167\u90e8\u51fd\u5f0f\u4ecd\u7136\u5728\u4f7f\u7528\u5b83\u5011\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u7576\u5916\u90e8\u51fd\u5f0f\u57f7\u884c\u5b8c\u7562\u5f8c\uff0c\u901a\u5e38\u6703\u91cb\u653e\u5176\u4f5c\u7528\u57df\u4e2d\u7684\u8b8a\u6578\u4ee5\u7bc0\u7701\u8a18\u61b6\u9ad4\u3002\u4f46\u5982\u679c\u67d0\u500b\u5167\u90e8\u51fd\u5f0f\uff08\u9589\u5305\uff09\u4ecd\u7136\u5f15\u7528\u9019\u4e9b\u8b8a\u6578\uff0c\u90a3\u9ebc\u9019\u4e9b\u8b8a\u6578\u5c07\u4e0d\u6703\u88ab\u91cb\u653e\uff0c\u800c\u662f\u6301\u7e8c\u5b58\u5728\u65bc\u5167\u90e8\u51fd\u5f0f\u7684\u4f5c\u7528\u57df\u93c8\u4e2d\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'function outerFunction() {\n  let outerVariable = "I am outside!";\n\n  function innerFunction() {\n    console.log(outerVariable);\n  }\n\n  return innerFunction;\n}\n\nconst closureFunction = outerFunction();\nclosureFunction(); // I am outside!\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5167\u90e8\u51fd\u5f0f ",(0,r.jsx)(e.code,{children:"innerFunction"})," \u662f\u9589\u5305\uff0c\u5b83\u8a18\u4f4f\u4e86 ",(0,r.jsx)(e.code,{children:"outerFunction"})," \u7684\u8a9e\u6cd5\u4f5c\u7528\u57df\uff0c\u5b83\u53ef\u4ee5\u5b58\u53d6\u5230\u5916\u90e8\u8b8a\u6578 ",(0,r.jsx)(e.code,{children:"outerVariable"}),"\uff0c\u5373\u4f7f ",(0,r.jsx)(e.code,{children:"outerFunction"})," \u5df2\u7d93\u57f7\u884c\u5b8c\u7562\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u9589\u5305\u7684\u61c9\u7528",children:"\u9589\u5305\u7684\u61c9\u7528"}),"\n",(0,r.jsx)(e.h3,{id:"\u8cc7\u6599\u5c01\u88dd",children:"\u8cc7\u6599\u5c01\u88dd"}),"\n",(0,r.jsx)(e.p,{children:"\u9589\u5305\u53ef\u4ee5\u7528\u4f86\u6a21\u64ec\u79c1\u6709\u8b8a\u6578\uff0c\u4f7f\u5f97\u5916\u90e8\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\u67d0\u4e9b\u8b8a\u6578\uff0c\u53ea\u80fd\u900f\u904e\u5167\u90e8\u51fd\u5f0f\u9032\u884c\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"function createCounter() {\n  let count = 0;\n\n  return function () {\n    count++;\n    console.log(count);\n  };\n}\n\nconst counter = createCounter();\ncounter(); // 1\ncounter(); // 2\n"})}),"\n",(0,r.jsxs)(e.p,{children:["count \u53ea\u80fd\u900f\u904e ",(0,r.jsx)(e.code,{children:"counter"})," \u51fd\u5f0f\u4f86\u4f86\u589e\u52a0\u6216\u6e1b\u5c11\u503c\uff0c\u5916\u90e8\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\u3002"]}),"\n",(0,r.jsx)(e.h3,{id:"\u6a21\u64ec\u79c1\u6709\u65b9\u6cd5\u548c\u8b8a\u6578",children:"\u6a21\u64ec\u79c1\u6709\u65b9\u6cd5\u548c\u8b8a\u6578"}),"\n",(0,r.jsx)(e.p,{children:"\u9589\u5305\u53ef\u4ee5\u7528\u4f86\u6a21\u64ec\u985e\u4f3c\u65bc\u7269\u4ef6\u4e2d\u7684\u79c1\u6709\u8b8a\u6578\u548c\u65b9\u6cd5\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"function counter() {\n  let count = 0;\n\n  function increment() {\n    count++;\n  }\n\n  function decrement() {\n    count--;\n  }\n\n  function getCount() {\n    return count;\n  }\n\n  return {\n    increment,\n    decrement,\n    getCount,\n  };\n}\nconst teamACounter = counter();\nteamACounter.increment();\nteamACounter.increment();\nteamACounter.decrement();\nconsole.log(teamACounter.getCount()); // 1\nconst teamBCounter = counter();\nteamBCounter.increment();\nteamBCounter.increment();\nconsole.log(teamBCounter.getCount()); // 2\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0c",(0,r.jsx)(e.code,{children:"count"})," \u8b8a\u6578\u662f\u79c1\u6709\u7684\uff0c\u5916\u90e8\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\uff0c\u53ea\u80fd\u900f\u904e ",(0,r.jsx)(e.code,{children:"increment"}),"\u3001",(0,r.jsx)(e.code,{children:"decrement"})," \u548c ",(0,r.jsx)(e.code,{children:"getCount"})," \u9019\u4e09\u500b\u65b9\u6cd5\u4f86\u64cd\u4f5c\u3002\n\u540c\u6642\u53ef\u4ee5\u900f\u904e\u9589\u5305\u7684\u7279\u6027\uff0c\u5275\u5efa\u591a\u500b\u7368\u7acb\u7684 Counter\uff0c\u4e92\u4e0d\u5f71\u97ff\u3002"]}),"\n",(0,r.jsx)(e.h3,{id:"\u4e8b\u4ef6\u8655\u7406event-handlers\u548c\u56de\u547c\u51fd\u5f0fcallbacks",children:"\u4e8b\u4ef6\u8655\u7406\uff08Event handlers\uff09\u548c\u56de\u547c\u51fd\u5f0f\uff08Callbacks\uff09"}),"\n",(0,r.jsxs)(e.p,{children:["\u9589\u5305\u7d93\u5e38\u61c9\u7528\u65bc\u4e8b\u4ef6\u8655\u7406\u6216\u56de\u547c\u51fd\u5f0f\u4e2d\uff0c\u7279\u5225\u662f\u7576\u9700\u8981\u4fdd\u6301\u4e00\u4e9b\u72c0\u614b\u6216\u8b8a\u6578\u6642\u3002\nReact \u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"useState"})," \u5c31\u662f\u61c9\u7528\u4e86\u9589\u5305\u7684\u7279\u6027\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'import React, { useState } from "react";\n\nconst Button = () => {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setCount((prevCount) => prevCount + 1);\n    console.log(`Button clicked ${count} times`);\n  };\n\n  return <button onClick={handleClick}>Click me</button>;\n};\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0c",(0,r.jsx)(e.code,{children:"handleClick"})," \u51fd\u5f0f\u662f\u9589\u5305\uff0c\u6bcf\u6b21\u9ede\u64ca\u6309\u9215\u90fd\u6703\u589e\u52a0 ",(0,r.jsx)(e.code,{children:"count"})," \u8b8a\u6578\u7684\u503c\u3002"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"\u5be6\u4f8b\u7df4\u7fd2",children:"\u5be6\u4f8b\u7df4\u7fd2"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://bigfrontend.dev/quiz/closure-1",children:"99. closure"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:'let dev = "bfe";\n\nfunction a() {\n  let dev = "BFE";\n  return function () {\n    console.log(dev);\n  };\n}\n\ndev = "bigfrontend";\n\na()();\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u89e3\u984c",children:"\u89e3\u984c"}),"\n",(0,r.jsxs)(e.p,{children:["\u7b54\u6848\u662f",(0,r.jsx)(e.code,{children:'"BFE"'}),"\uff0c\u56e0\u70ba ",(0,r.jsx)(e.code,{children:"a()"})," \u51fd\u5f0f\u662f\u9589\u5305\uff0c\u5b83\u8a18\u4f4f\u4e86 ",(0,r.jsx)(e.code,{children:"a"})," \u51fd\u5f0f\u88ab\u5b9a\u7fa9\u6642\u7684\u8b8a\u6578\u74b0\u5883\uff0c\u5373 ",(0,r.jsx)(e.code,{children:"dev"}),' \u70ba "BFE"\u3002']})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},5248:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>l});var c=t(758);const r={},o=c.createContext(r);function s(n){const e=c.useContext(o);return c.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),c.createElement(o.Provider,{value:e},n.children)}}}]);